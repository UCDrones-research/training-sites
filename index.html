<!DOCTYPE html>

<html>

<head>
    
  <meta charset="utf-8">
  <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no">

  <title>CalTrans Drone</title>

<link rel="stylesheet" href="https://js.arcgis.com/4.8/esri/css/main.css">
<meta name="theme-color" content="#ffffff">

  <script>
        var dojoConfig = {
        has: {
             "esri-featurelayer-webgl": 1
        }
        };
    </script>
  
  
  <script src="https://js.arcgis.com/4.8/"></script>
  <script>
	require([
	  "esri/tasks/Locator",
	  "esri/Map",
	  "esri/views/MapView",
	  "esri/widgets/Search",
	  "esri/layers/FeatureLayer",
	  "esri/widgets/Legend",
	  "dojo/on",
	  "dojo/domReady!",
          "dojo/dom"

	], function(Locator, Map, MapView, Search, FeatureLayer, Legend, on, dom){
		
		var defaultSym = {
			type: "simple-fill", // autocasts as new SimpleFillSymbol()
			outline: { // autocasts as new SimpleLineSymbol()
				color: "lightgray",
				width: 0.5
			}
		};
		
		var yesSym = {
			type: "simple-fill", 
			color: "salmon"
                };

                var noSym = {
                                type: "simple-fill",
                                color: "cornflowerblue"
                };
		
		var renderer = {
			type: "unique-value", // autocasts as new SimpleRenderer()
			defaultSymbol: defaultSym,
			defaultLabel: "No data",
			label: "Drone Regulations",
			field: "Drone_Reg",
			uniqueValueInfos: [
			{
				value: 1,
				symbol: yesSym,
				label: "Yes"
			},{
				value: 0,
				symbol: noSym,
				label: "No"
			}]
		};


		var map = new Map({
			basemap: "satellite",
			layers: []//countries]
		});
	 
		var view = new MapView({
			container: "viewDiv",  // Reference to the scene div
			map: map,  // Reference to the map object created before the scene
			zoom: 16,  // Sets zoom level based on level of detail (LOD)
			center: [-120.420165, 37.363572],  // Sets center point of view using longitude,latitude
                        constraints: {
					rotationEnabled: false
				}
		});
		var sources = [
		{ //
			locator: new Locator({ url: "//geocode.arcgis.com/arcgis/rest/services/World/GeocodeServer" }),
			singleLineFieldName: "SingleLine",
			name: "Custom Geocoding Service",
			localSearchOptions: {
				minScale: 300000,
				distance: 50000
			},
			placeholder: "Search Geocoder",
			maxResults: 3,
			maxSuggestions: 6,
			suggestionsEnabled: false,
			minSuggestCharacters: 0
		}, countries];
		
		var searchWidget = new Search({
                        container: "searchWidget",
			view: view,
			popupTemplate: ["*"],
			popupOpenOnSelect: false,
			popupEnabled: true
		});
		
                view.ui.move([ "zoom" ], "bottom-left");
                
		view.ui.add(searchWidget, {
			position: "top-left"
			
		});
		
		view.popup.dockOptions.position = "top-right";
    
	});

  </script>

</head>


<body>
  <div id="viewDiv" class="full-height">
      <div id ="legend"></div>
      <div id ="searchWidget"></div>
  </div>
  </div>
</body>

</html>

<style type="text/css">
    html, body {
  height: 100%;
}

.full-height {
  height: 100%;
}
</style>